<?xml version="1.0" ?>
<!-- Copyright 2018-2019 ForgeFlow, S.L.x
     License LGPL-3.0 or later (https://www.gnu.org/licenses/lgpl-3.0) -->
<odoo>
    <record id="view_hiring_request_form" model="ir.ui.view">
        <field name="name">hiring.request.form</field>
        <field name="model">hiring.request</field>
        <field name="arch" type="xml">
            <form string="Hiring Request">
                <header>
                    <button
                        name="button_approved"
                        states="draft"
                        string="Confirm"
                        type="object"
                        class="oe_highlight"
                    />
                    <button
                        name="button_done"
                        states="approved"
                        string="Done and Close"
                        type="object"
                        class="oe_highlight"
                    />
                    <button
                        name="button_rejected"
                        states="draft"
                        string="Reject"
                        type="object"
                        class="oe_highlight"
                    />
                    <field
                        name="state"
                        widget="statusbar"
                        statusbar_visible="draft,approved,done,rejected"
                    />
                </header>
                <sheet>
                    <div>
                        <label for="name" />
                    </div>
                    <h1>
                        <field  name="name" attrs="{'readonly':[('state','!=','draft')]}" required="1"/>
                    </h1>
                    <group>
                        <group>
                            <field name="category" />
                            <field name="scope" attrs="{'readonly':[('state','!=','draft')]}"/>
                            <field name="ref" attrs="{'readonly':[('state','!=','draft')]}"/>
                            <field name="project" attrs="{'readonly':[('state','!=','draft')]}"/>
                            <field name="center" attrs="{'readonly':[('state','!=','draft')]}"/>
                            <field name="working_location" attrs="{'readonly':[('state','!=','draft')]}"/>
                            <field name="sector" attrs="{'readonly':[('state','!=','draft')]}"/>
                        </group>
                        <group>
                            <field name="job" attrs="{'readonly':[('state','!=','draft')]}" domain="[('department_id','=',center)]"/>
                            <field name="total_heads" attrs="{'readonly':[('state','!=','draft')]}"/>
                            <field name="total_males" attrs="{'readonly':[('state','!=','draft')]}"/>
                            <field name="total_females" attrs="{'readonly':[('state','!=','draft')]}"/>
							<field name="requested_due_dates"  attrs="{'readonly':[('state','!=','draft')]}"/>
                            <field name="batch_numbers"  attrs="{'readonly':[('state','!=','draft')]}"/>
							<field name="comments"  attrs="{'readonly':[('state','!=','draft')]}"/>
                            <field name="lang_levels"  attrs="{'readonly':[('state','!=','draft')]}"/>
                            <field name="accrual_start_date"  attrs="{'readonly':[('state','!=','draft')]}"/>
                        </group>
                    </group>
                </sheet>
                <div class="oe_chatter">
                    <field name="message_follower_ids" widget="mail_followers" />
                    <field name="activity_ids" widget="mail_activity" />
                    <field name="message_ids" widget="mail_thread" />
                </div>
            </form>
        </field>
    </record>


    <record id="hr_applicant_form_view_inherit" model="ir.ui.view">
        <field name="name">hr.applicant.form.hrr.inherit</field>
        <field name="model">hr.applicant</field>
        <field name="inherit_id" ref="hr_recruitment.hr_applicant_view_form"/>
        <field name="arch" type="xml">
            <xpath expr="//group[1]" position="before">
                <div class="oe_title">
                    <label for="national_id" class="oe_edit_only"/>
                    <h3><field name="national_id"/></h3>
                </div>
            </xpath>
            <xpath expr="//header" position="inside">
                <button string="Transfer to another job" name="transfer_applicant" type="object" />
                <!-- <button string="Lost intreset" name="lost_interest_applicant" type="object" />
                <button string="Not Matching Criteria" name="not_matching_application"  type="object" />
                <button string="No show"  name="no_show" type="object" /> -->
            </xpath>
            <field name="job_id" position="attributes">
              <attribute name="required">1</attribute>
            </field>
            <xpath expr="//group[2]" position="inside">

                <field name="hiring_request" attrs="{'invisible':[('job_id','=',False)]}" domain="[('job','=',job_id),('state','=','approved')]"/>
                <field name="accept_pipeline" />
            </xpath>

        </field>
    </record>

   <record id="hr_employee_form_view_inherit" model="ir.ui.view">
        <field name="name">hr.employee.form.hrr.inherit</field>
        <field name="model">hr.employee</field>
        <field name="inherit_id" ref="hr.view_employee_form"/>
        <field name="arch" type="xml">
            <field name="birthday" position="after">
              <field name="military_status"/>
            </field>
        </field>
    </record>

    <record id="hr_contract_form_view_inherit" model="ir.ui.view">
        <field name="name">hr.job.form.hrr.inherit</field>
        <field name="model">hr.job</field>
        <field name="inherit_id" ref="hr.view_hr_job_form"/>
        <field name="arch" type="xml">
            <xpath expr="//page[1]" position="after">
                <page string="Hiring Request " name="hiring_request_page">
                    <div>
                        <label for="hiring_request" />
                    </div>
                    <h1>
                        <field  name="hiring_request"   />
                    </h1>
                    <group>
                        <field name="hrr_project"/>
                        <field name="hrr_center"/>
                        <field name="hrr_working_location"/>
                        <field name="hrr_job"/>
                        <field name="hrr_total_heads"/>
                        <field name="hrr_total_males"/>
                        <field name="hrr_total_females"/>
                        <field name="hrr_requested_due_dates"/>
                        <field name="hrr_batch_numbers"/>
                        <field name="hrr_comments"/>
                        <field name="hrr_scope" />
                        <field name="hrr_english_level" />
                    </group>
                </page>
            </xpath>
        </field>
    </record>

    <record id="view_hiring_request_tree" model="ir.ui.view">
        <field name="name">hiring.request.tree</field>
        <field name="model">hiring.request</field>
        <field name="arch" type="xml">
            <tree>
				<field name="name" />
				<field name="center" />
				<field name="working_location" />
				<field name="job" />
				<field name="total_heads" />
				<field name="total_males" />
				<field name="total_females" />
				<field name="requested_due_dates" />
				<field name="batch_numbers" />
                <field name="project" />
                <field name="accrual_start_date" />
                <field name="sector" />
				<field name="state" />
            </tree>
        </field>
    </record>
    <record id="view_hiring_request_search" model="ir.ui.view">
        <field name="name">hiring.request.list.select</field>
        <field name="model">hiring.request</field>
        <field name="arch" type="xml">
            <search string="Search Hiring Request">
                <field name="name" string="Hiring Request" />
                <field name="center" />
				<field name="working_location" />
				<field name="job" />
				<field name="total_heads" />
				<field name="total_males" />
				<field name="total_females" />
				<field name="requested_due_dates" />
				<field name="batch_numbers" />
                <field name="project" />
                <field name="accrual_start_date" />
				<field name="state" />
                <field name="sector" />
            </search>
        </field>
    </record>
    <!-- <record model="ir.actions.act_window" id="hiring_request_form_action">
        <field name="name">Operational Hiring Requests</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">hiring.request</field>
        <field name="view_mode">tree,form</field>
        <field name="context"></field>
        <field name="search_view_id" ref="view_hiring_request_search" />
		<field name="domain">[('category','=','operational')]</field>
        <field name="help" type="html">
            <p class="oe_view_nocontent_create">
            Click to start a new hiring request process.
          </p>
        </field>
    </record>

    <record model="ir.actions.act_window" id="hiring_request_talent_form_action">
        <field name="name">Talent Acquisition Hiring Requests</field>
        <field name="type">ir.actions.act_window</field>
        <field name="res_model">hiring.request</field>
        <field name="view_mode">tree,form</field>
        <field name="context"></field>
        <field name="search_view_id" ref="view_hiring_request_search" />
        <field name="help" type="html">
            <p class="oe_view_nocontent_create">
            Click to start a new hiring request process.
          </p>
        </field>
		<field name="domain">[('category','=','Talent Acq')]</field>
    </record>

	<menuitem
        id="menu_purchase_request_act_acc"
        sequence="10"
        parent="hr_recruitment.menu_crm_case_categ0_act_job"
        action="hiring_request_talent_form_action"
    />

    <menuitem
        id="menu_purchase_request_act"
        sequence="10"
        parent="hr_recruitment.menu_crm_case_categ0_act_job"
        action="hiring_request_form_action"
    /> -->
</odoo>
